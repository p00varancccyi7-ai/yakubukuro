<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QRカメラ起動テスト（背面カメラ固定）</title>
<script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
<h2>QRコード読み取りテスト（背面カメラ固定）</h2>
<div id="reader" style="width:300px;height:300px;"></div>
<p id="result">読み取り結果がここに表示されます</p>

<script>
const html5QrCode = new Html5Qrcode("reader");

// 背面カメラを強制指定
const config = { fps: 10, qrbox: 250, facingMode: "environment" };

html5QrCode.start(
    { facingMode: "environment" }, // 背面カメラを指定
    config,
    qrCodeMessage => {
        document.getElementById('result').innerText = "読み取り結果: " + qrCodeMessage;
    },
    errorMessage => {
        // 読み取り失敗時は無視
    }
).catch(err => {
    document.getElementById('result').innerText = "カメラ起動に失敗: " + err;
});
</script>
</body>
</html>
